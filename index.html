<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Receipt Transformer</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
  </head>
  <body>
    <div id="form">
      <form id="textInput">
        <input type="file" name="fileInput" id="fileInput" accept="text/plain">
        <input type="submit" name="submit">
      </form>
    </div>
    <div id="stuff"></div>
    <script type="text/javascript">
      const textInputElement = document.getElementById('textInput');
      const fileInputElement = document.getElementById('fileInput');
      const stuffDivElement = document.getElementById('stuff');
      textInputElement.addEventListener('submit', (e) =>
      {
        e.preventDefault();

        for (const file of fileInputElement.files)
        {
          var reader = new FileReader();
          reader.onload = function()
          {
            var txt = reader.result;
            var tag = document.createElement('p');
            tag.appendChild(document.createTextNode(txt));
            stuff.appendChild(tag);
          }
          reader.readAsText(file);
        }
      });
    </script>
  </body>
</html>
